<div class="card">
    <div class="card-header">
        <div class="row justify-content-between">
            <div class="col-auto">
                <h5>Lista de Produtos</h5>
            </div>
            <div *ngIf="isAdmin" class="col-auto">
                <button class="btn btn-success"
                    routerLink="novo">Novo Produto</button>
            </div>
        </div>        
    </div>
    <div class="card-body">
        <table class="table">
            <tr>
                <th>Nome</th>
                <th>Preço</th>
                <th *ngIf="isAdmin">Ações</th>
            </tr>
            <tr *ngFor="let produto of produtos; let i = index">
                <td>{{produto.nome}}</td>
                <td>
                    <span class="font-weight-bold mr-1">
                        R$: 
                    </span>
                    {{produto.preco | preco}}
                </td>
                <td *ngIf="isAdmin">
                    <button [routerLink]="i"
                        class="btn btn-primary mr-1">
                        Editar
                    </button>
                    <button (click)="abrirModalExclusao(templateModalExclusao, i)"
                        class="btn btn-danger ml-1">
                        Excluír
                    </button>
                </td>
            </tr>
        </table>
    </div>
</div>

<ng-template #templateModalExclusao>
    <div class="modal-header">
      Excluír produto
    </div>
    <div *ngIf="indiceExclusao > -1" class="modal-body">
      Tem certeza de que deseja excluir o produto 
      {{produtos[indiceExclusao].nome}}?
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" 
        (click)="fecharModalExclusao(false)">Não</button>
      <button class="btn btn-primary"
        (click)="fecharModalExclusao(true)">Sim</button>
    </div>
</ng-template>